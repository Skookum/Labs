extends ../../layouts/default

block vars
  - pageTitle = 'Rotation (known angle)'

block content
  ul#menu
    li
      a(href='http://labs.skookum.com') Home
    li
      a(href='1.html') Next
  canvas#surface(width='600', height='400')
  pre
    code#source
      | var line = {
      |   x: 300,
      |   y: 200,
      |   length: 100,
      |   angle: 0
      | };
      |  
      | // ...
      | line.angle += (Math.PI*2) / 100;
      | var x = line.x + line.length * Math.cos(line.angle);
      | var y = line.y + line.length * Math.sin(line.angle);

  script.
    // Version 0: Rotation - angle known, need X,Y

    var line = {
      x: 300,
      y: 200,
      length: 100,
      angle: 0
    };

    var canvas = document.getElementById("surface");
    var ctx = canvas.getContext('2d');

    setInterval(function() {

      // Clear display
      ctx.save();
        ctx.fillStyle = "rgba(0, 0, 0, .2)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.restore();

      // Update angle - with geometry! =)

      line.angle += (Math.PI * 2) / 100;
      var x = line.x + line.length * Math.cos(line.angle);
      var y = line.y + line.length * Math.sin(line.angle);

      // Draw line
      ctx.save();
        ctx.strokeStyle = "#fff";
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(line.x, line.y);
        ctx.lineTo(x, y);
        ctx.stroke();
      ctx.restore();
    }, 1000 / 77);
